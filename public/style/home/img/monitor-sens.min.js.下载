!function(){function a(a,b,c,d,e){function f(a,b){a+="?";for(var c in b)a+=c+"="+encodeURIComponent(b[c])+"&";return a.substr(0,a.length-1)}function g(){if(!window.__scan_uid__)for(var a=0;a<document.scripts.length;a++)if(document.scripts[a].text&&/2088\d{12}/.exec(document.scripts[a].text)){window.__scan_uid__=/2088\d{12}/.exec(document.scripts[a].text)[0];break}return window.__scan_uid__}var h={textType:a,scanType:b,info:c,pos:d,hideText:e,t:(new Date).getTime(),url:location.href,userid:g()},i="https://kcart.alipay.com/s.gif";(new Image).src=f(i,h)}var b;!function(a){function b(a){for(var b,c,d=0,e=a.length-1;e>=0;e--)b=parseInt(a.charAt(e)),c=e%2===a.length%2,c&&(b=2*b,b>9&&(b-=9)),d+=b;return d%10===0}a.type="bankCard",a.reg_exp=/(^|[^\d\.\-])(\d{13,19})($|[^\d\.])/g,a.reg_index=2;var c=/^[34569][0-9]{12,18}$/;a.verify=function(a){return a=String(a),c.test(a)&&b(a)},a.hideText=function(a){return a.substr(0,6)+"****"+a.substr(a.length-4)}}(b||(b={}));var c;!function(a){function b(a){return a%4===0&&a%400!==0||a%400===0}function c(a,c,d){if(c<1||c>12)return!1;var f=e[c];return 2===c&&b(a)&&(f=29),d>0&&d<=f}function d(a){if(!/^[0-9]{17}[0-9xX]$/.test(a))return!1;var b=parseInt(a.substr(6,4)),d=parseInt(a.substr(10,2)),e=parseInt(a.substr(12,2)),h=a.substr(17,1);if(!c(b,d,e))return!1;for(var i=0,j=0;j<17;j++)i+=parseInt(a.charAt(j))*f[j];var k=i%11;return g.charAt(k)===h}a.type="idCard",a.reg_exp=/(^|[^\d\.\-])(\d{17}[0-9xX])($|[^\d\.])/g,a.reg_index=2;var e=[0,31,28,31,30,31,30,31,31,30,31,30,31],f=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],g="10X98765432",h=/^(1[1-5]|2[1-3]|3[1-7]|4[1-6]|5[1-4]|6[1-5]|71|81)/;a.verify=function(a){return!!a&&(a=String(a),h.test(a)&&18===a.length&&d(a))},a.hideText=function(a){return a.substr(0,5)+"****"+a.substr(a.length-2)}}(c||(c={}));var d;!function(a){a.type="mobilePhone",a.reg_exp=/(^|[^\d\.\-])(\d{11})($|[^\d\.])/g,a.reg_index=2,a.verify=function(a){return/^(?:13[0-9]|14[57]|15[0-35-9]|18[0-9]|17[0-9])\d{8}$/.test(a)},a.hideText=function(a){return a.substr(0,3)+"****"+a.substr(a.length-4)}}(d||(d={}));var e;!function(e){function f(b,c,d,e){for(var f,g="",h=-1;f=b.reg_exp.exec(c);)f=f[b.reg_index],b.verify(f)&&(g=e?e():c.substr(c.indexOf(f,h+1)-10,10)+b.hideText(f)+c.substr(c.indexOf(f,h+1)+f.length,10),a(b.type,d,g,h=c.indexOf(f,h+1),b.hideText(f)))}e.test=function(a,e,g){f(c,a,e,g),f(b,a,e,g),f(d,a,e,g)}}(e||(e={}));var f;!function(a){function b(a){if(!a||a==document)return"";var c=a.tagName,d=a.id;"string"==typeof d&&d&&(c+="#"+d);var e=a.className;"string"==typeof e&&(e=e.split(/\s/)[0],e&&(c+="."+e));var f=b(a.parentNode);return f?f+">"+c:c}a.scanHtml=function(){function a(){for(var a=0;a<document.children.length;a++)e.test(document.children[a].innerHTML,"html")}"complete"==document.readyState?a():document.addEventListener("readystatechange",function(){"complete"==document.readyState&&a()})},a.scanDom=function(){!!document.addEventListener&&document.addEventListener("DOMNodeInserted",function(a){var c=a.target;c.outerHTML&&e.test(c.outerHTML,"dom_html",function(){return b(c)}),c.value&&e.test(c.value,"dom_value",function(){return b(c)})})},a.scanHref=function(){e.test(location.href,"href",function(){return location.href})},a.scanXhr=function(){window.XMLHttpRequest&&(XMLHttpRequest.prototype.__open__=XMLHttpRequest.prototype.open,XMLHttpRequest.prototype.open=function(){var a=this;a.__open__.apply(this,arguments),a.__url__=arguments[1],a.addEventListener("readystatechange",function(){4==a.readyState&&a.responseText&&e.test(a.responseText,"xhr",function(){return a.__url__})})})},a.scanJsonp=function(){function a(a,b){for(var c=0;c<a.length;c++){var d=a[c];d="object"==typeof d?JSON.stringify(d):String(d),e.test(d,"jsonp",function(){return b})}}function b(b){var c=/callback=([^&]+)/i.exec(b);if(c&&!(c.length<2)){c=c[1].split(".");for(var d=window,e=0;e<c.length-1;e++){if(!d[c[e]])return;d=d[c[e]]}if(c=c[c.length-1],d[c]&&"function"==typeof d[c]){var f=d[c];d[c]=function(){return a(arguments,b),f.apply(this,arguments)}}}}if(window.HTMLScriptElement&&window.HTMLScriptElement.prototype){var c=window.HTMLScriptElement.prototype.__lookupGetter__("src"),d=window.HTMLScriptElement.prototype.__lookupSetter__("src");if(c&&d){window.HTMLScriptElement.prototype.__defineGetter__("src",function(){return c.apply(this,arguments)}),window.HTMLScriptElement.prototype.__defineSetter__("src",function(){return b(arguments[0]),d.apply(this,arguments)});var f=window.HTMLScriptElement.prototype.setAttribute;window.HTMLScriptElement.prototype.setAttribute=function(){return"src"==arguments[0]&&b(arguments[1]),f.apply(this,arguments)}}}},a.scan=function(b){"string"==typeof b&&(b="*"==b?["html","dom","href","xhr","jsonp"]:[b]),b instanceof Array&&b.forEach(function(b){switch(b){case"html":a.scanHtml();break;case"dom":a.scanDom();break;case"href":a.scanHref();break;case"xhr":a.scanXhr();break;case"jsonp":a.scanJsonp()}})}}(f||(f={})),!function(){Math.random()>.01||window.__scan_text__||window.addEventListener&&(window.__scan_text__=!0,f.scan("*"))}()}();